# ðŸ“š Manga Status Site

A comprehensive PHP-based manga library application for tracking reading progress, managing collections, and discovering new manga with a retro aesthetic design.\n\n## âœ¨ Features\n\n### Core Functionality\n- **User Authentication**: Secure login/registration with email verification\n- **Manga Management**: Add, edit, delete manga entries with detailed metadata\n- **Progress Tracking**: Track reading status, chapters, ratings, and notes\n- **Collection Organization**: Browse and filter by genre, status, and more\n- **Advanced Search**: Full-text search with multiple filter options\n\n### Technical Features\n- **REST API**: Comprehensive API endpoints for programmatic access\n- **Security**: CSRF protection, prepared statements, rate limiting\n- **Responsive Design**: Retro manga-inspired UI with smooth animations\n- **Admin Dashboard**: System statistics and management tools\n- **Caching System**: File-based caching for improved performance\n- **Logging**: Comprehensive logging with file rotation\n\n## ðŸš€ Quick Start\n\n### Requirements\n- PHP 7.4+\n- MySQL 5.7+\n- Apache/Nginx with mod_rewrite\n- XAMPP or similar local development environment\n\n### Installation\n\n1. **Clone the repository**\n   ```bash\n   git clone https://github.com/jesus-justin/Manga-Status-Site.git\n   cd Manga-Status-Site\n   ```\n\n2. **Set up database**\n   ```bash\n   # Import the database schema\n   mysql -u root -p manga_db < users_complete.sql\n   ```\n\n3. **Configure database connection**\n   ```php\n   // Edit db.php with your credentials\n   define('DB_HOST', 'localhost');\n   define('DB_USER', 'root');\n   define('DB_PASS', 'your_password');\n   define('DB_NAME', 'manga_db');\n   ```\n\n4. **Start your local server**\n   ```bash\n   # Using XAMPP\n   xampp start\n   \n   # Access at http://localhost/Manga-Status-Site/\n   ```\n\n## ðŸ“– API Documentation\n\nFull API documentation is available at `/api_docs.php`\n\n### Key Endpoints\n\n#### Authentication\n- `POST /login_fixed.php` - User login\n- `POST /register.php` - User registration\n- `GET /logout.php` - Logout user\n\n#### REST API\n- `GET /api/user/profile` - Get current user profile\n- `GET /api/user/collection` - Get user's manga collection\n- `GET /api/manga/:id` - Get manga by ID\n- `GET /api/manga/search/:query` - Search manga\n- `POST /api/progress/update` - Update reading progress\n- `DELETE /api/progress/delete/:manga_id` - Remove from collection\n- `GET /api/user/stats` - Get user statistics\n\n## ðŸŽ¨ Design System\n\n### Color Palette\n- **Paper**: #f5efe3 (cream background)\n- **Ink**: #141414 (dark text)\n- **Accent**: #d7263d (deep red)\n- **Gold**: #f2a900 (accent highlight)\n\n### Typography\n- **Headings**: Bebas Neue (uppercase, bold)\n- **Body**: Zen Kaku Gothic New (readable, clean)\n\n### Theme Variants\n- Red/Akatsuki-inspired (default)\n- White/Zen\n- Blue/Ocean\n- Green/Forest\n- Purple/Royal\n- Dark mode\n\n## ðŸ› ï¸ Utility Classes\n\nThe application includes comprehensive utility classes in `src/`:\n\n### Core Utilities\n- **Validator.php** - Input validation (email, password, URLs, etc.)\n- **Sanitizer.php** - Input sanitization (strings, HTML, arrays)\n- **Response.php** - Standardized HTTP response formatting\n- **Logger.php** - File-based logging with rotation\n- **Cache.php** - File-based caching system\n\n### Business Logic\n- **Auth.php** - Authentication and session management\n- **DB.php** - Database query helpers\n- **Search.php** - Advanced search functionality\n- **Router.php** - URL routing engine\n\n### Integration\n- **Mailer.php** - Email sending with templates\n- **ImageProcessor.php** - Image upload and manipulation\n- **APIClient.php** - HTTP client for external APIs\n- **SessionManager.php** - Secure session handling\n- **Environment.php** - Environment variable management\n\n## ðŸ“ Project Structure\n\n```\nâ”œâ”€â”€ api_*.php           # REST API endpoints\nâ”œâ”€â”€ admin_dashboard.php # Admin interface\nâ”œâ”€â”€ home.php           # Main dashboard\nâ”œâ”€â”€ browse.php         # Manga browsing\nâ”œâ”€â”€ add.php            # Add manga page\nâ”œâ”€â”€ edit.php           # Edit manga page\nâ”œâ”€â”€ delete.php         # Delete endpoint\nâ”œâ”€â”€ user_progress.php  # Progress tracking\nâ”œâ”€â”€ login_fixed.php    # Login page\nâ”œâ”€â”€ register.php       # Registration page\nâ”œâ”€â”€ forgot_password.php # Password recovery\nâ”‚\nâ”œâ”€â”€ src/               # Utility classes\nâ”‚   â”œâ”€â”€ Validator.php\nâ”‚   â”œâ”€â”€ Sanitizer.php\nâ”‚   â”œâ”€â”€ Response.php\nâ”‚   â”œâ”€â”€ Logger.php\nâ”‚   â”œâ”€â”€ Cache.php\nâ”‚   â”œâ”€â”€ Auth.php\nâ”‚   â”œâ”€â”€ DB.php\nâ”‚   â”œâ”€â”€ Search.php\nâ”‚   â”œâ”€â”€ Router.php\nâ”‚   â”œâ”€â”€ Mailer.php\nâ”‚   â”œâ”€â”€ ImageProcessor.php\nâ”‚   â”œâ”€â”€ APIClient.php\nâ”‚   â”œâ”€â”€ SessionManager.php\nâ”‚   â””â”€â”€ Environment.php\nâ”‚\nâ”œâ”€â”€ config/\nâ”‚   â””â”€â”€ constants.php  # Application constants\nâ”‚\nâ”œâ”€â”€ css/\nâ”‚   â”œâ”€â”€ style.css\nâ”‚   â”œâ”€â”€ home.css\nâ”‚   â””â”€â”€ edit.css\nâ”‚\nâ”œâ”€â”€ js/\nâ”‚   â””â”€â”€ animations.js\nâ”‚\nâ””â”€â”€ uploads/          # User-uploaded files\n```\n\n## ðŸ”’ Security\n\n### Features\n- **CSRF Protection**: All mutations protected with tokens\n- **SQL Injection Prevention**: Prepared statements throughout\n- **Password Hashing**: BCrypt with PASSWORD_DEFAULT\n- **Rate Limiting**: Login attempt throttling (5 attempts/15 min)\n- **Session Security**: HttpOnly, Secure, SameSite cookies\n- **CSP Headers**: Content Security Policy headers\n- **Input Validation**: Comprehensive validation on all inputs\n\n## ðŸ“Š Database Schema\n\n### Users Table\n```sql\nCREATE TABLE users (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    username VARCHAR(255) UNIQUE NOT NULL,\n    email VARCHAR(255) UNIQUE NOT NULL,\n    password_hash VARCHAR(255) NOT NULL,\n    email_verified BOOLEAN DEFAULT FALSE,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n```\n\n### Manga Table\n```sql\nCREATE TABLE manga (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    title VARCHAR(255) NOT NULL,\n    status VARCHAR(50),\n    category VARCHAR(255),\n    read_link VARCHAR(255),\n    external_links JSON,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n```\n\n### User Reading Progress Table\n```sql\nCREATE TABLE user_reading_progress (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    user_id INT NOT NULL,\n    manga_id INT NOT NULL,\n    status ENUM('will read', 'currently reading', 'stopped', 'finished'),\n    rating INT(2),\n    chapters INT,\n    notes TEXT,\n    progress_percentage INT,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (user_id) REFERENCES users(id),\n    FOREIGN KEY (manga_id) REFERENCES manga(id)\n);\n```\n\n## ðŸ§ª Testing\n\n### Test Accounts\n- Username: `testuser` / Password: `TestPass123!`\n- Admin: `admin` / Password: `AdminPass123!`\n\n### API Testing\nUse curl or Postman:\n```bash\ncurl -X GET http://localhost/Manga-Status-Site/api/manga/1 \\\n  -H \"Content-Type: application/json\"\n```\n\n## ðŸ› Troubleshooting\n\n### Login Issues\n- Ensure database credentials are correct in `db.php`\n- Check `login_attempts` table for rate limiting\n- Verify session directory has write permissions\n\n### API Errors\n- Check `api_docs.php` for endpoint documentation\n- Enable debug mode in `config/constants.php`\n- Check error logs in `logs/` directory\n\n### Database Issues\n- Verify MySQL is running\n- Import schema: `mysql anime_db < users_complete.sql`\n- Check table names and columns match schema\n\n## ðŸ“ License\n\nThis project is licensed under the MIT License.\n\n## ðŸ¤ Contributing\n\nContributions are welcome! Please:\n\n1. Fork the repository\n2. Create a feature branch (`git checkout -b feature/amazing-feature`)\n3. Commit your changes (`git commit -m 'Add amazing feature'`)\n4. Push to the branch (`git push origin feature/amazing-feature`)\n5. Open a Pull Request\n\n## ðŸ’¬ Support\n\nFor support, create an issue in the GitHub repository or contact the maintainers.\n\n## ðŸ“š Resources\n\n- [PHP Documentation](https://www.php.net/docs.php)\n- [MySQL Documentation](https://dev.mysql.com/doc/)\n- [OWASP Security Guidelines](https://owasp.org/)\n- [REST API Best Practices](https://restfulapi.net/)