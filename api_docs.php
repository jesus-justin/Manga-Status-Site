<?php\n/**\n * API Documentation\n * \n * REST API endpoints for Manga Status Site\n */\n\n?>\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>API Documentation - Manga Status Site</title>\n    <link href=\"https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Zen+Kaku+Gothic+New:wght@400;500;700&display=swap\" rel=\"stylesheet\">\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        body {\n            font-family: 'Zen Kaku Gothic New', sans-serif;\n            background: #f5efe3;\n            color: #141414;\n            line-height: 1.6;\n        }\n        .container {\n            max-width: 1000px;\n            margin: 0 auto;\n            padding: 20px;\n        }\n        h1 {\n            font-family: 'Bebas Neue', cursive;\n            font-size: 2.5em;\n            color: #d7263d;\n            margin-bottom: 10px;\n        }\n        h2 {\n            font-family: 'Bebas Neue', cursive;\n            font-size: 1.8em;\n            color: #d7263d;\n            margin-top: 30px;\n            margin-bottom: 15px;\n            border-bottom: 2px solid #d7263d;\n            padding-bottom: 10px;\n        }\n        h3 {\n            font-family: 'Bebas Neue', cursive;\n            font-size: 1.3em;\n            color: #f2a900;\n            margin-top: 20px;\n            margin-bottom: 10px;\n        }\n        .endpoint {\n            background: white;\n            border: 2px solid #d7263d;\n            border-radius: 8px;\n            padding: 20px;\n            margin-bottom: 20px;\n            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n        }\n        .method {\n            display: inline-block;\n            padding: 5px 10px;\n            border-radius: 4px;\n            font-weight: bold;\n            margin-right: 10px;\n            font-size: 0.9em;\n        }\n        .method.get {\n            background-color: #4CAF50;\n            color: white;\n        }\n        .method.post {\n            background-color: #2196F3;\n            color: white;\n        }\n        .method.put {\n            background-color: #FF9800;\n            color: white;\n        }\n        .method.delete {\n            background-color: #f44336;\n            color: white;\n        }\n        .path {\n            font-family: monospace;\n            background: #f0f0f0;\n            padding: 5px 10px;\n            border-radius: 4px;\n            font-size: 0.95em;\n        }\n        .description {\n            margin: 15px 0;\n            color: #333;\n        }\n        .params, .response {\n            margin-top: 15px;\n        }\n        .params h4, .response h4 {\n            color: #d7263d;\n            font-size: 0.95em;\n            margin-bottom: 8px;\n        }\n        pre {\n            background: #2b2b2b;\n            color: #f8f8f2;\n            padding: 12px;\n            border-radius: 4px;\n            overflow-x: auto;\n            font-size: 0.85em;\n            margin-top: 8px;\n        }\n        code {\n            font-family: 'Courier New', monospace;\n        }\n        .auth-required {\n            background-color: #fff3cd;\n            border: 1px solid #ffc107;\n            padding: 10px;\n            border-radius: 4px;\n            margin-top: 10px;\n            font-size: 0.9em;\n        }\n        .example {\n            margin-top: 15px;\n            padding: 10px;\n            background: #f9f9f9;\n            border-left: 4px solid #d7263d;\n        }\n        table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-top: 10px;\n        }\n        th, td {\n            padding: 10px;\n            text-align: left;\n            border-bottom: 1px solid #ddd;\n        }\n        th {\n            background: #f5efe3;\n            color: #d7263d;\n            font-weight: bold;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>üìö Manga Status API</h1>\n        <p style=\"font-size: 1.1em; color: #666; margin-bottom: 20px;\">Complete REST API documentation for Manga Status Site</p>\n\n        <h2>Authentication</h2>\n        <p>All endpoints requiring authentication expect an active session with <code>user_id</code> set in <code>$_SESSION</code>.</p>\n\n        <h2>API Endpoints</h2>\n\n        <!-- GET /api/user/profile -->\n        <div class=\"endpoint\">\n            <div>\n                <span class=\"method get\">GET</span>\n                <span class=\"path\">/api/user/profile</span>\n            </div>\n            <div class=\"description\">Get current user profile information</div>\n            <div class=\"auth-required\">‚ö†Ô∏è Authentication required</div>\n            <div class=\"response\">\n                <h4>Response Example</h4>\n                <pre><code>{\n  \"id\": 1,\n  \"username\": \"john_doe\",\n  \"email\": \"john@example.com\"\n}</code></pre>\n            </div>\n        </div>\n\n        <!-- GET /api/user/collection -->\n        <div class=\"endpoint\">\n            <div>\n                <span class=\"method get\">GET</span>\n                <span class=\"path\">/api/user/collection</span>\n            </div>\n            <div class=\"description\">Get all manga in user's collection</div>\n            <div class=\"auth-required\">‚ö†Ô∏è Authentication required</div>\n            <div class=\"response\">\n                <h4>Response Example</h4>\n                <pre><code>[\n  {\n    \"id\": 1,\n    \"user_id\": 1,\n    \"manga_id\": 5,\n    \"status\": \"currently reading\",\n    \"rating\": 8,\n    \"chapters\": 45\n  }\n]</code></pre>\n            </div>\n        </div>\n\n        <!-- GET /api/manga/:id -->\n        <div class=\"endpoint\">\n            <div>\n                <span class=\"method get\">GET</span>\n                <span class=\"path\">/api/manga/:id</span>\n            </div>\n            <div class=\"description\">Get manga by ID</div>\n            <div class=\"params\">\n                <h4>Parameters</h4>\n                <table>\n                    <tr>\n                        <th>Parameter</th>\n                        <th>Type</th>\n                        <th>Description</th>\n                    </tr>\n                    <tr>\n                        <td>id</td>\n                        <td>integer</td>\n                        <td>Manga ID</td>\n                    </tr>\n                </table>\n            </div>\n            <div class=\"response\">\n                <h4>Response Example</h4>\n                <pre><code>{\n  \"id\": 5,\n  \"title\": \"Attack on Titan\",\n  \"status\": \"finished\",\n  \"category\": \"Action,Dark,Supernatural\",\n  \"read_link\": \"MangaDex\"\n}</code></pre>\n            </div>\n        </div>\n\n        <!-- GET /api/manga/search/:query -->\n        <div class=\"endpoint\">\n            <div>\n                <span class=\"method get\">GET</span>\n                <span class=\"path\">/api/manga/search/:query</span>\n            </div>\n            <div class=\"description\">Search manga by title</div>\n            <div class=\"params\">\n                <h4>Parameters</h4>\n                <table>\n                    <tr>\n                        <th>Parameter</th>\n                        <th>Type</th>\n                        <th>Description</th>\n                    </tr>\n                    <tr>\n                        <td>query</td>\n                        <td>string</td>\n                        <td>Search query</td>\n                    </tr>\n                </table>\n            </div>\n        </div>\n\n        <!-- POST /api/progress/update -->\n        <div class=\"endpoint\">\n            <div>\n                <span class=\"method post\">POST</span>\n                <span class=\"path\">/api/progress/update</span>\n            </div>\n            <div class=\"description\">Update reading progress</div>\n            <div class=\"auth-required\">‚ö†Ô∏è Authentication required</div>\n            <div class=\"params\">\n                <h4>Request Body</h4>\n                <table>\n                    <tr>\n                        <th>Field</th>\n                        <th>Type</th>\n                        <th>Description</th>\n                    </tr>\n                    <tr>\n                        <td>manga_id</td>\n                        <td>integer</td>\n                        <td>ID of manga</td>\n                    </tr>\n                    <tr>\n                        <td>status</td>\n                        <td>string</td>\n                        <td>One of: will read, currently reading, stopped, finished</td>\n                    </tr>\n                    <tr>\n                        <td>rating</td>\n                        <td>integer</td>\n                        <td>Rating 1-10</td>\n                    </tr>\n                    <tr>\n                        <td>chapters</td>\n                        <td>integer</td>\n                        <td>Chapters read</td>\n                    </tr>\n                </table>\n            </div>\n        </div>\n\n        <!-- DELETE /api/progress/delete/:manga_id -->\n        <div class=\"endpoint\">\n            <div>\n                <span class=\"method delete\">DELETE</span>\n                <span class=\"path\">/api/progress/delete/:manga_id</span>\n            </div>\n            <div class=\"description\">Remove manga from collection</div>\n            <div class=\"auth-required\">‚ö†Ô∏è Authentication required</div>\n            <div class=\"params\">\n                <h4>Parameters</h4>\n                <table>\n                    <tr>\n                        <th>Parameter</th>\n                        <th>Type</th>\n                        <th>Description</th>\n                    </tr>\n                    <tr>\n                        <td>manga_id</td>\n                        <td>integer</td>\n                        <td>Manga ID</td>\n                    </tr>\n                </table>\n            </div>\n        </div>\n\n        <!-- GET /api/user/stats -->\n        <div class=\"endpoint\">\n            <div>\n                <span class=\"method get\">GET</span>\n                <span class=\"path\">/api/user/stats</span>\n            </div>\n            <div class=\"description\">Get user reading statistics</div>\n            <div class=\"auth-required\">‚ö†Ô∏è Authentication required</div>\n            <div class=\"response\">\n                <h4>Response Example</h4>\n                <pre><code>{\n  \"total_manga\": 45,\n  \"reading\": 8,\n  \"completed\": 25,\n  \"will_read\": 12\n}</code></pre>\n            </div>\n        </div>\n\n        <h2>Response Format</h2>\n        <p>All responses are JSON format with the following structure:</p>\n        <pre><code>{\n  \"success\": true|false,\n  \"data\": {...},\n  \"error\": \"error message (if applicable)\",\n  \"status\": 200\n}</code></pre>\n\n        <h2>Status Codes</h2>\n        <table>\n            <tr>\n                <th>Code</th>\n                <th>Meaning</th>\n            </tr>\n            <tr>\n                <td>200</td>\n                <td>Success</td>\n            </tr>\n            <tr>\n                <td>400</td>\n                <td>Bad request</td>\n            </tr>\n            <tr>\n                <td>401</td>\n                <td>Unauthorized</td>\n            </tr>\n            <tr>\n                <td>404</td>\n                <td>Not found</td>\n            </tr>\n            <tr>\n                <td>405</td>\n                <td>Method not allowed</td>\n            </tr>\n            <tr>\n                <td>500</td>\n                <td>Server error</td>\n            </tr>\n        </table>\n    </div>\n</body>\n</html>\n"